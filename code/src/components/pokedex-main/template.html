<div class="pokedex-container">
    <div class="pokedex-body">
        <!-- Top Section - Header with lens, lights, connection status -->
        <pokedex-header 
            :connected="${x => x.isConnected}"
            @toggle-settings="${x => x.handleToggleSettings()}">
        </pokedex-header>
        
        <!-- Main Screen -->
        <pokedex-screen 
            :output="${x => x.output}"
            :isGenerating="${x => x.isGenerating}">
        </pokedex-screen>
        
        <!-- Input Section -->
        <pokedex-input 
            :query="${x => x.query}"
            :isGenerating="${x => x.isGenerating}"
            @search="${(x, c) => x.handleSearch(c.event)}">
        </pokedex-input>
        
        <!-- Settings Modal -->
        ${when(x => x.showSettings, html`
            <rws-modal name="settings" header="pokedex.settingsTitle" max-width="600px" @modal-close="${x => x.handleSettingsClose()}">
                <pokedex-settings 
                    :settings="${x => x.settings}"
                    @settings-save="${(x, c) => x.handleSettingsSave(c.event.detail)}"
                    @settings-clear="${x => x.handleSettingsClear()}">
                </pokedex-settings>
            </rws-modal>
        `)}
    </div>
</div>