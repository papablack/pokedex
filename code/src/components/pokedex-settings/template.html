<form class="settings-form">
    <div class="form-group">
        <label class="form-label">
            <i class="bi bi-key-fill"></i>
            ${'pokedex.apiKey'.t()}
        </label>
        <div class="input-group">
            <input 
                :type="showApiKey ? 'text' : 'password'"
                class="form-input"
                :value="${x => x.tempSettings?.apiKey || ''}"
                @input="${(x, c) => x.updateTempSetting('apiKey', c.event.target.value)}"
                :placeholder="'pokedex.enterApiKey'.t()"
            >
            <button 
                class="btn-toggle" 
                type="button" 
                @click="${x => x.toggleApiKeyVisibility()}"
            >
                <i class="bi ${x => x.showApiKey ? 'bi-eye-slash-fill' : 'bi-eye-fill'}"></i>
            </button>
        </div>
        <div class="form-text">
            ${'pokedex.getApiKey'.t()} 
            <a href="https://openrouter.ai/keys" target="_blank">OpenRouter.ai</a>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="bi bi-cpu-fill"></i>
            ${'pokedex.model'.t()}
        </label>
        <select 
            class="form-select"
            :value="${x => x.tempSettings?.model || 'openai/gpt-4o-mini'}"
            @change="${(x, c) => x.updateTempSetting('model', c.event.target.value)}"
        >
            <option value="openai/gpt-4o-mini">GPT-4o Mini</option>
            <option value="openai/gpt-4o">GPT-4o</option>
            <option value="anthropic/claude-3.5-sonnet">Claude 3.5 Sonnet</option>
            <option value="google/gemini-pro-1.5">Gemini Pro 1.5</option>
        </select>
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="bi bi-globe"></i>
            ${'pokedex.language'.t()}
        </label>
        <select 
            class="form-select"
            :value="${x => x.tempSettings?.language || 'pl'}"
            @change="${(x, c) => x.updateTempSetting('language', c.event.target.value)}"
        >
            <option value="pl">${'pokedex.languagePolish'.t()}</option>
            <option value="en">${'pokedex.languageEnglish'.t()}</option>
            <option value="de">${'pokedex.languageGerman'.t()}</option>
            <option value="ja">${'pokedex.languageJapanese'.t()}</option>
        </select>
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="bi bi-thermometer-half"></i>
            ${'pokedex.temperature'.t()}: ${x => x.tempSettings?.temperature || 0.7}
        </label>
        <input 
            type="range" 
            class="form-range"
            min="0" 
            max="2" 
            step="0.1"
            :value="${x => x.tempSettings?.temperature || 0.7}"
            @input="${(x, c) => x.updateTempSetting('temperature', parseFloat(c.event.target.value))}"
        >
        <div class="form-text">${'pokedex.temperatureDesc'.t()}</div>
    </div>

    <div class="form-group">
        <div class="form-switch">
            <input 
                type="checkbox" 
                :checked="${x => x.tempSettings?.streaming || false}"
                @change="${(x, c) => x.updateTempSetting('streaming', c.event.target.checked)}"
            >
            <label>
                <i class="bi bi-arrow-repeat"></i>
                ${'pokedex.streaming'.t()}
            </label>
        </div>
    </div>
</form>

<div class="modal-footer">
    <button type="button" class="btn-danger" @click="${x => x.clearSettings()}">
        <i class="bi bi-trash-fill"></i>
        ${'pokedex.clear'.t()}
    </button>
    <button type="button" class="btn-primary" @click="${x => x.saveSettings()}">
        <i class="bi bi-check-lg"></i>
        ${'pokedex.save'.t()}
    </button>
</div>